import os
def get_base_path():
    return os.path.dirname(os.path.abspath(__file__))


def extract_region():
    base_path = os.path.join(get_base_path(), "region_data")
    all_regions= [
    {'label': 'Albany', 'value': 'Albany'},
    {'label': 'Avondale', 'value': 'Avondale'},
    {'label': 'Birkenhead', 'value': 'Birkenhead'},
    {'label': 'Blockhouse Bay', 'value': 'Blockhouse Bay'},
    {'label': 'Browns Bay', 'value': 'Browns Bay'},
    {'label': 'Bucklands Beach', 'value': 'Bucklands Beach'},
    {'label': 'Devonport', 'value': 'Devonport'},
    {'label': 'Eden Terrace', 'value': 'Eden Terrace'},
    {'label': 'Ellerslie', 'value': 'Ellerslie'},
    {'label': 'Epsom', 'value': 'Epsom'},
    {'label': 'Freemans Bay', 'value': 'Freemans Bay'},
    {'label': 'Glenfield', 'value': 'Glenfield'},
    {'label': 'Glen Innes', 'value': 'Glen Innes'},
    {'label': 'Greenlane', 'value': 'Greenlane'},
    {'label': 'Grey Lynn', 'value': 'Grey Lynn'},
    {'label': 'Henderson', 'value': 'Henderson'},
    {'label': 'Herne Bay', 'value': 'Herne Bay'},
    {'label': 'Highland Park','value': 'Highland Park'},
    {'label': 'Howick', 'value': 'Howick'},
    {'label': 'Kingsland', 'value': 'Kingsland'},
    {'label': 'Kohimarama', 'value': 'Kohimarama'},
    {'label': 'Manukau', 'value': 'Manukau'},
    {'label': 'Meadowbank', 'value': 'Meadowbank'},
    {'label': 'Milford', 'value': 'Milford'},
    {'label': 'Mission Bay', 'value': 'Mission Bay'},
    {'label': 'Mount Albert', 'value': 'Mount Albert'},
    {'label': 'Mount Eden', 'value': 'Mount Eden'},
    {'label': 'Mount Roskill', 'value': 'Mount Roskill'},
    {'label': 'New Lynn', 'value': 'New Lynn'},
    {'label': 'Newmarket', 'value': 'Newmarket'},
    {'label': 'Northcote', 'value': 'Northcote'},
    {'label': 'Onehunga', 'value': 'Onehunga'},
    {'label': 'Orewa', 'value': 'Orewa'},
    {'label': 'Ormiston', 'value': 'Ormiston'},
    {'label': 'Otahuhu', 'value': 'Otahuhu'},
    {'label': 'Pakuranga', 'value': 'Pakuranga'},
    {'label': 'Papakura', 'value': 'Papakura'},
    {'label': 'Parnell', 'value': 'Parnell'},
    {'label': 'Ponsonby', 'value': 'Ponsonby'},
    {'label': 'Pukekohe', 'value': 'Pukekohe'},
    {'label': 'Remuera', 'value': 'Remuera'},
    {'label': 'Saint Heliers', 'value': 'Saint Heliers'},
    {'label': 'Saint Johns', 'value': 'Saint Johns'},
    {'label': 'Sandringham', 'value': 'Sandringham'},
    {'label': 'Silverdale', 'value': 'Silverdale'},
    {'label': 'Takapuna', 'value': 'Takapuna'},
    {'label': 'Te Atatu', 'value': 'Te Atatu'},
    {'label': 'Titirangi', 'value': 'Titirangi'},
    {'label': 'Waiheke Island', 'value': 'Waiheke Island'},
    {'label': 'Warkworth', 'value': 'Warkworth'},
    {'label': 'Wellsford', 'value': 'Wellsford'},
    {'label': 'Whangaparaoa', 'value': 'Whangaparaoa'}
    ]
    for region in all_regions:
        folder_name = region['value']
        folder_path = os.path.join(base_path, folder_name)
        region['disabled'] = not (os.path.isdir(folder_path) and os.path.exists(os.path.join(folder_path, "nz-property-titles.shp")))
    return all_regions

def get_region_center(region):
    centers = {
        'Albany': (-36.72125, 174.70776),
        'Avondale': (-36.88876, 174.70112),
        'Birkenhead': (-36.81409, 174.73746),
        'Blockhouse Bay': (-36.92424, 174.69514),
        'Browns Bay': (-36.71908, 174.74358),
        'Bucklands Beach': (-36.86782, 174.90592),
        'Devonport': (-36.83149, 174.79467),
        'Eden Terrace': (-36.86141, 174.75936),
        'Ellerslie': (-36.88911, 174.79817),
        'Epsom': (-36.88804, 174.77333),
        'Freemans Bay': (-36.84919, 174.75221),
        'Glenfield': (-36.79351, 174.71155),
        'Glen Innes': (-36.88112, 174.86047),
        'Greenlane': (-36.88921, 174.79829),
        'Grey Lynn': (-36.86057, 174.74238),
        'Henderson': (-36.86962, 174.63589),
        'Herne Bay': (-36.84142, 174.72996),
        'Highland Park' :(-36.898548, 174.909453),
        'Howick': (-36.89951, 174.93739),
        'Kingsland': (-36.86885, 174.74866),
        'Kohimarama': (-36.85301, 174.85294),
        'Manukau': (-36.99282, 174.87964),
        'Meadowbank': (-36.87837, 174.82935),
        'Milford': (-36.76662, 174.76463),
        'Mission Bay': (-36.84963, 174.85263),
        'Mount Albert': (-36.89378, 174.71927),
        'Mount Eden': (-36.87673, 174.76411),
        'Mount Roskill': (-36.92396, 174.73273),
        'New Lynn': (-36.91082, 174.68756),
        'Newmarket': (-36.86947, 174.77834),
        'Northcote': (-36.81139, 174.74975),
        'Onehunga': (-36.92382, 174.78877),
        'Orewa': (-36.57808, 174.69509),
        'Ormiston': (-36.94549, 174.91866),
        'Otahuhu': (-36.94111, 174.83808),
        'Pakuranga': (-36.89780, 174.87423),
        'Papakura': (-37.06404, 174.94642),
        'Parnell': (-36.85511, 174.78487),
        'Ponsonby': (-36.85673, 174.74449),
        'Pukekohe': (-37.20247, 174.90448),
        'Remuera': (-36.87787, 174.80156),
        'Saint Heliers': (-36.85125, 174.85825),
        'Saint Johns': (-36.88019, 174.83725),
        'Sandringham': (-36.89900, 174.73414),
        'Silverdale': (-36.60701, 174.67247),
        'Takapuna': (-36.78651, 174.77319),
        'Te Atatu': (-36.85080, 174.63518),
        'Titirangi': (-36.93962, 174.65643),
        'Waiheke Island': (-36.79526, 175.10872),
        'Warkworth': (-36.39823, 174.66129),
        'Wellsford': (-36.29335, 174.52454),
        'Whangaparaoa': (-36.62146, 174.77350)
    }
    return centers.get(region, (-36.867820, 174.905923))